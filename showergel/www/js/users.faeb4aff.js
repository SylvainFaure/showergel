(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["users"],{"4cae":function(e,t,s){},a6e7:function(e,t,s){"use strict";s("4cae")},ed81:function(e,t,s){"use strict";s.r(t);var a=s("7a23"),c=Object(a["L"])("data-v-07b5fa7a");Object(a["t"])("data-v-07b5fa7a");var n={id:"playout_history",class:"content"},d=Object(a["g"])("h1",null,"Users",-1),o=Object(a["g"])("p",null,[Object(a["f"])(" From here you can edit usernames and passwords that will be allowed to stream, if "),Object(a["g"])("code",null,"harbor"),Object(a["f"])(" authentication is set up. ")],-1),r=Object(a["g"])("div",{class:"modal-background"},null,-1),l={class:"modal-card"},i={class:"modal-card-head"},u=Object(a["g"])("p",{class:"modal-card-title"},"Create user account",-1),b={class:"modal-card-body"},j=Object(a["g"])("p",null," Avoid special characters (even spaces) in usernames. ",-1),O={class:"field"},g=Object(a["g"])("label",{class:"label",for:"username"},"Username",-1),m={class:"control"},f={class:"field"},h=Object(a["g"])("label",{class:"label",for:"password"},"Pass phrase",-1),p={class:"control"},w={class:"field"},v=Object(a["g"])("label",{class:"label",for:"password_confirmation"},"Confirm pass phrase",-1),U={class:"control"},P={class:"help is-danger"},C={class:"modal-card-foot"},A=Object(a["g"])("button",{class:"button is-success"},"Create account",-1),k={class:"table-container"},y={class:"table is-striped"},_=Object(a["g"])("thead",null,[Object(a["g"])("tr",null,[Object(a["g"])("th",null,"Username"),Object(a["g"])("th",null,"Created"),Object(a["g"])("th",null,"Modified"),Object(a["g"])("th",null,"Actions")])],-1),J=Object(a["g"])("i",{class:"mdi mdi-account-off"},null,-1);Object(a["r"])();var R=c((function(e,t,s,c,R,L){return Object(a["q"])(),Object(a["d"])("div",n,[d,o,Object(a["g"])("button",{class:"button block is-primary is-rounded",onClick:t[1]||(t[1]=function(e){return R.showUserAdd=!0})},"Add"),Object(a["g"])("div",{class:["modal",{"is-active":R.showUserAdd}]},[r,Object(a["g"])("div",l,[Object(a["g"])("form",{onSubmit:t[7]||(t[7]=Object(a["K"])((function(e){return L.addUser()}),["prevent"])),class:"box"},[Object(a["g"])("header",i,[u,Object(a["g"])("button",{class:"delete","aria-label":"close",onClick:t[2]||(t[2]=function(e){return L.resetAdd()})})]),Object(a["g"])("section",b,[j,Object(a["g"])("div",O,[g,Object(a["g"])("div",m,[Object(a["J"])(Object(a["g"])("input",{class:"input",id:"username","onUpdate:modelValue":t[3]||(t[3]=function(e){return R.addUsername=e})},null,512),[[a["E"],R.addUsername]])])]),Object(a["g"])("div",f,[h,Object(a["g"])("div",p,[Object(a["J"])(Object(a["g"])("input",{class:"input",type:"password",id:"password","onUpdate:modelValue":t[4]||(t[4]=function(e){return R.addPassword=e})},null,512),[[a["E"],R.addPassword]])])]),Object(a["g"])("div",w,[v,Object(a["g"])("div",U,[Object(a["J"])(Object(a["g"])("input",{class:"input",type:"password",id:"password_confirmation","onUpdate:modelValue":t[5]||(t[5]=function(e){return R.addPasswordConfirmation=e})},null,512),[[a["E"],R.addPasswordConfirmation]])]),Object(a["J"])(Object(a["g"])("p",P," Pass phrases don't match ",512),[[a["F"],L.addPasswordsMismatch]])])]),Object(a["g"])("footer",C,[A,Object(a["g"])("button",{class:"button",onClick:t[6]||(t[6]=function(e){return L.resetAdd()})},"Cancel")])],32)])],2),Object(a["g"])("div",k,[Object(a["g"])("table",y,[_,Object(a["g"])("tbody",null,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(R.users,(function(e){return Object(a["q"])(),Object(a["d"])("tr",{key:e.username},[Object(a["g"])("td",null,Object(a["B"])(e.username),1),Object(a["g"])("td",null,Object(a["B"])(new Date(e.created_at).toLocaleString()),1),Object(a["g"])("td",null,Object(a["B"])(new Date(e.modified_at).toLocaleString()),1),Object(a["g"])("td",null,[Object(a["g"])("button",{class:"button is-danger icon",onClick:function(t){return L.deleteUser(e.username)},title:"Remove user account"},[J],8,["onClick"])])])})),128))])])])])})),L=(s("2b3d"),s("d3b7"),s("3ca3"),s("ddb0"),s("ba6a")),M={data:function(){return{addUsername:"",addPassword:"",addPasswordConfirmation:"",showUserAdd:!1,users:[]}},computed:{addPasswordsMismatch:function(){return this.addPassword!=this.addPasswordConfirmation}},methods:{getUsers:function(){L["a"].get("/users").then(this.onResults).catch((function(e){console.log(e)}))},onResults:function(e){this.users=e.data.users},resetAdd:function(){this.showUserAdd=!1,this.addUsername="",this.addPassword="",this.addPasswordConfirmation=""},addUser:function(){this.addPasswordsMismatch||L["a"].put("/users",{username:this.addUsername,password:this.addPassword}).then(this.resetAdd).then(this.getUsers).catch((function(e){console.log(e)}))},deleteUser:function(e){if(confirm("Really remove ".concat(e,"'s account ? All related data will be removed too."))){var t=new URLSearchParams([["username",e]]);L["a"].delete("/users",{params:t}).then(this.getUsers).catch((function(e){console.log(e)}))}}},mounted:function(){this.getUsers()}};s("a6e7");M.render=R,M.__scopeId="data-v-07b5fa7a";t["default"]=M}}]);
//# sourceMappingURL=users.faeb4aff.js.map