(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["users"],{"1a54":function(e,t,s){"use strict";s("2618")},2618:function(e,t,s){},ed81:function(e,t,s){"use strict";s.r(t);var a=s("7a23"),c=Object(a["G"])("data-v-d8c0eeea");Object(a["r"])("data-v-d8c0eeea");var n={id:"playout_history",class:"content"},d=Object(a["f"])("h1",null,"Users",-1),o=Object(a["f"])("p",null,[Object(a["e"])(" From here you can edit usernames and passwords that will be allowed to stream, if "),Object(a["f"])("code",null,"harbor"),Object(a["e"])(" authentication is set up. ")],-1),r=Object(a["f"])("div",{class:"modal-background"},null,-1),l={class:"modal-card"},i={class:"modal-card-head"},u=Object(a["f"])("p",{class:"modal-card-title"},"Create user account",-1),b={class:"modal-card-body"},f=Object(a["f"])("p",null," Avoid special characters (even spaces) in usernames. ",-1),j={class:"field"},O=Object(a["f"])("label",{class:"label",for:"username"},"Username",-1),m={class:"control"},h={class:"field"},p=Object(a["f"])("label",{class:"label",for:"password"},"Pass phrase",-1),w={class:"control"},U={class:"field"},v=Object(a["f"])("label",{class:"label",for:"password_confirmation"},"Confirm pass phrase",-1),C={class:"control"},P={class:"help is-danger"},g={class:"modal-card-foot"},A=Object(a["f"])("button",{class:"button is-success",type:"submit",form:"addUser"},"Create account",-1),y={class:"table-container"},_={class:"table is-striped"},k=Object(a["f"])("thead",null,[Object(a["f"])("tr",null,[Object(a["f"])("th",null,"Username"),Object(a["f"])("th",null,"Created"),Object(a["f"])("th",null,"Modified"),Object(a["f"])("th",null,"Actions")])],-1),x=Object(a["f"])("i",{class:"mdi mdi-account-off"},null,-1);Object(a["p"])();var E=c((function(e,t,s,c,E,M){return Object(a["o"])(),Object(a["d"])("div",n,[d,o,Object(a["f"])("button",{class:"button block is-primary is-rounded",onClick:t[1]||(t[1]=function(e){return E.showUserAdd=!0})},"Add"),Object(a["f"])("div",{class:["modal",{"is-active":E.showUserAdd}]},[r,Object(a["f"])("div",l,[Object(a["f"])("header",i,[u,Object(a["f"])("button",{class:"delete","aria-label":"close",onClick:t[2]||(t[2]=function(e){return M.resetAdd()})})]),Object(a["f"])("section",b,[Object(a["f"])("form",{onSubmit:t[6]||(t[6]=Object(a["F"])((function(e){return M.addUser()}),["prevent"])),class:"box",id:"addUser"},[f,Object(a["f"])("div",j,[O,Object(a["f"])("div",m,[Object(a["E"])(Object(a["f"])("input",{class:"input",id:"username","onUpdate:modelValue":t[3]||(t[3]=function(e){return E.addUsername=e})},null,512),[[a["B"],E.addUsername]])])]),Object(a["f"])("div",h,[p,Object(a["f"])("div",w,[Object(a["E"])(Object(a["f"])("input",{class:"input",type:"password",id:"password","onUpdate:modelValue":t[4]||(t[4]=function(e){return E.addPassword=e})},null,512),[[a["B"],E.addPassword]])])]),Object(a["f"])("div",U,[v,Object(a["f"])("div",C,[Object(a["E"])(Object(a["f"])("input",{class:"input",type:"password",id:"password_confirmation","onUpdate:modelValue":t[5]||(t[5]=function(e){return E.addPasswordConfirmation=e})},null,512),[[a["B"],E.addPasswordConfirmation]])]),Object(a["E"])(Object(a["f"])("p",P," Pass phrases don't match ",512),[[a["C"],M.addPasswordsMismatch]])])],32)]),Object(a["f"])("footer",g,[A,Object(a["f"])("button",{class:"button",onClick:t[7]||(t[7]=function(e){return M.resetAdd()})},"Cancel")])])],2),Object(a["f"])("div",y,[Object(a["f"])("table",_,[k,Object(a["f"])("tbody",null,[(Object(a["o"])(!0),Object(a["d"])(a["a"],null,Object(a["u"])(E.users,(function(e){return Object(a["o"])(),Object(a["d"])("tr",{key:e.username},[Object(a["f"])("td",null,Object(a["x"])(e.username),1),Object(a["f"])("td",null,Object(a["x"])(new Date(e.created_at).toLocaleString()),1),Object(a["f"])("td",null,Object(a["x"])(new Date(e.modified_at).toLocaleString()),1),Object(a["f"])("td",null,[Object(a["f"])("button",{class:"button is-danger icon",onClick:function(t){return M.deleteUser(e.username)},title:"Remove user account"},[x],8,["onClick"])])])})),128))])])])])})),M=s("ba6a"),R={error_handler:function(e){console.log(e),e.response&&e.response.data.message&&console.log(e.response.data.message)}},B={data:function(){return{addUsername:"",addPassword:"",addPasswordConfirmation:"",showUserAdd:!1,users:[]}},computed:{addPasswordsMismatch:function(){return this.addPassword!=this.addPasswordConfirmation}},methods:{getUsers:function(){M["a"].get("/users").then(this.onResults).catch(R.error_handler)},onResults:function(e){this.users=e.data.users},resetAdd:function(){this.showUserAdd=!1,this.addUsername="",this.addPassword="",this.addPasswordConfirmation=""},addUser:function(){this.addPasswordsMismatch||M["a"].put("/users",{username:this.addUsername,password:this.addPassword}).then(this.resetAdd).then(this.getUsers).catch(R.error_handler)},deleteUser:function(e){confirm("Really remove ".concat(e,"'s account ? All related data will be removed too."))&&M["a"].delete("/users/"+e).then(this.getUsers).catch(R.error_handler)}},mounted:function(){this.getUsers()}};s("1a54");B.render=E,B.__scopeId="data-v-d8c0eeea";t["default"]=B}}]);
//# sourceMappingURL=users.b899d4b9.js.map